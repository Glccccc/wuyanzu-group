# Python 实用工具与学习脚本集

## 项目简介

本项目是一个面向学习与实用的 Python 脚本与工具模块集合，涵盖了文件与目录操作、终端消息美化、动态模块导入、文本检索与上下文提取、函数调用日志、SI 单位换算等多个主题。每个功能点均有主实现和参考实现（`*_ref.py`），便于对比学习和掌握不同编程思路。

`data` 目录下包含了丰富的辅助数据文件，如问答题库、配置文件、历史文本、图片、压缩包等，支持批量文本处理、配置管理和日志记录等多种应用场景。

## 主要功能

- **文件与目录操作**：快速获取目录下所有文件名，便于文件管理和批量处理。
- **终端消息美化**：将重要消息美化为带边框、居中的格式，提升终端交互体验。
- **动态模块导入**：支持运行时动态加载外部 Python 文件或配置文件，增强程序灵活性。
- **文本检索与上下文提取**：可在多个文本文件中批量检索关键字，并提取上下文内容，适合文本分析和数据挖掘。
- **函数调用日志**：通过装饰器自动记录函数调用的时间、参数、返回值或异常，便于调试和追踪。
- **SI 单位换算**：自动将数值转换为合适的 SI 前缀，便于科学计算和物理量展示。
- **数据与配置管理**：如 `vars.py`、`conf.py` 提供问答游戏常量和应用配置，支持扩展和自定义。

## 安装方法

1. **克隆或下载**本项目，确保 `data` 目录及其内容完整。
2. 请确保已安装 Python 3.10 或更高版本。

## 使用方法

本项目由多个独立的 Python 脚本组成，每个脚本演示一个具体的实用功能或编程技巧。你可以直接在命令行运行每个脚本，也可以在自己的代码中导入和复用这些工具函数。

### 1. 目录文件名获取

- **脚本：** `1.py` 或 `1_ref.py`
- **用法示例：**
  ```python
  from 1 import list_files
  print(list_files(r'./data'))
  # 输出: ('7MD9i.chm', 'conf.py', 'E3ln1.txt', ...)
  ```
  或者交互式运行：
  ```bash
  python -i 1.py
  >>> list_files(r'./data')
  ```

### 2. 重要消息美化输出

- **脚本：** `2.py` 或 `2_ref.py`
- **用法示例：**
  ```bash
  python 2.py
  ```
  脚本会提示输入一段消息，并以美化、居中的框体形式输出到终端。
  示例输出：
  ```
   Введите текст: 程序标题

   #==============================#
   #                              #
   #          程序标题            #
   #                              #
   #==============================#
  ```

- **直接调用函数：**
  ```python
  from utils import important_message
  print(important_message('你好，世界！'))
  ```

### 3. 文件路径输入与动态模块导入

- **脚本：** `3.py` 或 `3_ref.py`
- **用法示例：**
  ```bash
  python 3.py
  ```
  脚本会提示输入一个文件路径（如 `./data/conf.py`），如果文件存在，将其复制并动态导入为模块。

### 4. 文本文件关键字检索与上下文提取

- **脚本：** `4.py` 或 `4_ref.py`
- **用法示例：**
  ```python
  from 4 import search_context
  results = search_context('关键词', '其他词', context=1)
  for item in results:
      print(item)
  ```
  - 在 `data` 目录下所有 `.txt` 文件中查找包含指定关键字的行，并可返回上下文。
  - 返回结果为包含文件名、行号、上下文和匹配文本的字典列表。

### 5. 函数调用日志装饰器

- **脚本：** `5.py` 或 `5_ref.py`
- **用法示例：**
  ```python
  from 5 import logger
  @logger
  def add(a, b):
      return a + b

  add(1, 2)
  # 每次调用都会记录到 data/function_calls.log
  ```

### 6. SI 单位换算与格式化

- **脚本：** `si_unit.py`
- **用法示例：**
  ```python
  from si_unit import SIUnit
  v = SIUnit(1500, 'm')
  print(v)           # 输出: 1.5 km
  print(v.target(0)) # 输出: 1500 m
  ```

### 注意事项

- 部分脚本需要在终端交互输入。
- 部分脚本依赖 `data` 目录下的文件（如 `conf.py`、`.txt` 文件）。
- 所有工具函数均可导入到你自己的 Python 项目中复用。

## 环境依赖

- **Python 版本**：建议 3.10 及以上。
- **依赖库**：仅使用 Python 标准库（如 `pathlib`、`shutil`、`importlib`、`sys`、`datetime`），无需额外安装第三方库。

## 目录结构

```
2023.05.28/
│
├── 1.py, 1_ref.py           # 目录文件名获取
├── 2.py, 2_ref.py           # 重要消息美化输出
├── 3.py, 3_ref.py           # 文件路径输入与动态模块导入
├── 4.py, 4_ref.py           # 文本文件关键字检索与上下文提取
├── 5.py, 5_ref.py           # 函数调用日志装饰器
├── si_unit.py               # SI 单位换算与格式化
├── utils.py, utils_ref.py   # 工具函数（消息美化、动态导入等）
├── 20230528-markdown.md     # 详细功能说明（中文）
├── # HW 2023.05.28.txt      # 任务与用法说明（俄文）
│
└── data/
    ├── vars.py              # 问答游戏常量与设置
    ├── conf.py              # 示例配置字典
    ├── questions.quiz       # 问答题库
    ├── *.txt                # 用于检索与分析的文本文件
    ├── function_calls.log   # 函数调用日志文件
    ├── *.chm, *.docx, *.jpg, *.zip # 其他数据文件
    ├── c14KE/, mXbd9/       # 子目录，包含额外数据文件
    └── __pycache__/         # Python 缓存文件（自动生成）
```

## 许可说明

本项目仅供学习和实用参考。如需授权或其他用途，请参见仓库说明或联系作者。 